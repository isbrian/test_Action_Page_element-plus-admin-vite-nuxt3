{"parsed":{"_path":"/doc/guide/routing","_dir":"guide","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"路由","description":"Nuxt的一个核心功能是文件系统路由器。会根据约定目录中的每个 Vue 文件创建相应的 URL（或路由）。","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"路由"},"children":[{"type":"text","value":"路由"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt的一个核心功能是文件系统路由器。会根据约定目录中的每个 Vue 文件创建相应的 URL（或路由）。"}]},{"type":"element","tag":"h2","props":{"id":"pages-目录"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/pages"}]},{"type":"text","value":" 目录"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"当我们创建了 pages 文件夹目录后，Nuxt 会自动集成vue-router，结合 pages 目录下的文件(夹)名来构建我们的项目："}]},{"type":"element","tag":"code","props":{"code":"├─pages ---------------- // 页面目录（Nuxt 将直接根据目录层级和文件名创建对应的路由）\n│ ├─admin -------------- // 后台管理页面\n│ │ ├─index.vue -------- // 页面路由为 /admin/index\n│ │ └─welcome.vue ------ // 页面路由为 /admin/welcome\n│ ├─doc ---------------- // 项目文档页面\n│ │ └─[...slug].vue ---- // 页面路由为 /doc/*\n│ └─index.vue ---------- // 主页面，页面路由为 /index\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"├─pages ---------------- // 页面目录（Nuxt 将直接根据目录层级和文件名创建对应的路由）\n│ ├─admin -------------- // 后台管理页面\n│ │ ├─index.vue -------- // 页面路由为 /admin/index\n│ │ └─welcome.vue ------ // 页面路由为 /admin/welcome\n│ ├─doc ---------------- // 项目文档页面\n│ │ └─[...slug].vue ---- // 页面路由为 /doc/*\n│ └─index.vue ---------- // 主页面，页面路由为 /index\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"将直接生成路由："}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"routes\": [\n    {\n      \"path\": \"/\",\n      \"component\": \"pages/index.vue\"\n    },\n    {\n      \"path\": \"/doc/:slug(.*)*\",\n      \"component\": \"pages/doc/[...slug].vue\"\n    },\n    {\n      \"path\": \"/admin\",\n      \"component\": \"pages/admin/index.vue\"\n    },\n    {\n      \"path\": \"/admin/welcome\",\n      \"component\": \"pages/admin/welcome.vue\"\n    }\n  ]\n}\n","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n  \"routes\": [\n    {\n      \"path\": \"/\",\n      \"component\": \"pages/index.vue\"\n    },\n    {\n      \"path\": \"/doc/:slug(.*)*\",\n      \"component\": \"pages/doc/[...slug].vue\"\n    },\n    {\n      \"path\": \"/admin\",\n      \"component\": \"pages/admin/index.vue\"\n    },\n    {\n      \"path\": \"/admin/welcome\",\n      \"component\": \"pages/admin/welcome.vue\"\n    }\n  ]\n}\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"middleware-目录"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/middleware"}]},{"type":"text","value":" 目录"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt提供了一个可自定义的路由中间件框架，可以在整个应用程序中使用，非常适合在这里实现导航到特定路由之前要运行的代码（路由守卫）。"}]},{"type":"element","tag":"code","props":{"code":"import { storeToRefs } from 'pinia'\n\nconst whiteList = ['/', '/doc/*']\n\nfunction pathToRegExp(path: string) {\n  const pattern = path.replaceAll('/', '\\/').replaceAll('*', '.*')\n  return new RegExp(`^${pattern}$`)\n}\n\nexport default defineNuxtRouteMiddleware((to) => {\n  const userStore = useUserStore()\n  const authToken = userStore.authToken\n  if (authToken) {\n    const permissionStore = usePermissionStore()\n    const { menus, taggedMenus } = storeToRefs(permissionStore)\n    if (permissionStore.menus.length === 0)\n      permissionStore.generateMenus()\n  }\n\n  /** 路径不在白名单内，重定向至登陆页面 */\n  else if (!whiteList.some(path => pathToRegExp(path).test(to.path))) {\n    return navigateTo('/')\n  }\n})\n\n","filename":"@/middleware/auth.global.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import { storeToRefs } from 'pinia'\n\nconst whiteList = ['/', '/doc/*']\n\nfunction pathToRegExp(path: string) {\n  const pattern = path.replaceAll('/', '\\/').replaceAll('*', '.*')\n  return new RegExp(`^${pattern}$`)\n}\n\nexport default defineNuxtRouteMiddleware((to) => {\n  const userStore = useUserStore()\n  const authToken = userStore.authToken\n  if (authToken) {\n    const permissionStore = usePermissionStore()\n    const { menus, taggedMenus } = storeToRefs(permissionStore)\n    if (permissionStore.menus.length === 0)\n      permissionStore.generateMenus()\n  }\n\n  /** 路径不在白名单内，重定向至登陆页面 */\n  else if (!whiteList.some(path => pathToRegExp(path).test(to.path))) {\n    return navigateTo('/')\n  }\n})\n\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"生成菜单"},"children":[{"type":"text","value":"生成菜单"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"项目通过向后端发送请求来获取菜单。具体可以看中间件文件 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"@/middleware/auth.global.ts"}]},{"type":"text","value":" 对 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"permissionStore.generateMenus()"}]},{"type":"text","value":" 的调用。函数的实现也很简单。"}]},{"type":"element","tag":"code","props":{"code":"...\nasync function generateMenus() {\n  // 向后端请求路由数据\n  const { data: routersResponse } = await $fetch('/api/routers', { method: 'get' })\n  menus.value = constantRoutes.concat(routersResponse)\n}\n...\n","filename":"@/composables/permission.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"...\nasync function generateMenus() {\n  // 向后端请求路由数据\n  const { data: routersResponse } = await $fetch('/api/routers', { method: 'get' })\n  menus.value = constantRoutes.concat(routersResponse)\n}\n...\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"至于 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/api/routes"}]},{"type":"text","value":" 接口的实现："}]},{"type":"element","tag":"code","props":{"code":"/** 路由接口 */\nexport default defineEventHandler(async () => {\n  /** mock routers api response */\n  const storage = useStorage()\n  return {\n    success: true,\n    data: await storage.getItem('db:routers'),\n  }\n  // return http.request<UserResult>('get', '/routers', { data })\n})\n","filename":"@/server/api/routers.get.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"/** 路由接口 */\nexport default defineEventHandler(async () => {\n  /** mock routers api response */\n  const storage = useStorage()\n  return {\n    success: true,\n    data: await storage.getItem('db:routers'),\n  }\n  // return http.request<UserResult>('get', '/routers', { data })\n})\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"可以看到服务端直接从数据库中拿的数据，这里在开发环境下，我们使用 nuxt 3 集成的 nitro 服务器自带的 unstorage 模块提供的 fs 文件存储引擎；在部署环境下使用其默认的 in memory 内存存储引擎。"}]},{"type":"element","tag":"code","props":{"code":"...\nnitro: {\n  devStorage: {\n    db: {\n      driver: 'fs',\n      base: 'server/db',\n    },\n  },\n},\n...\n","filename":"@/nuxt.config.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"...\nnitro: {\n  devStorage: {\n    db: {\n      driver: 'fs',\n      base: 'server/db',\n    },\n  },\n},\n...\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"服务器初始化时通过连接数据库（或对数据库进行初始化写入数据），即可实现简单的数据持久化。因此，修改菜单只需要修改 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"@/server/db/init-data.ts"}]},{"type":"text","value":" 的内容即可。这里简单说说菜单的配置，主要其实就是 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"path"}]},{"type":"text","value":" 和 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"meta"}]},{"type":"text","value":" 两个属性，前面说了，"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pages/"}]},{"type":"text","value":" 目录下的文件会自动生成路由，因此这里的 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"path"}]},{"type":"text","value":" 只需要能够与 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pages/"}]},{"type":"text","value":" 下的路由路径对应上即可；"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"meta"}]},{"type":"text","value":" 中的 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"title"}]},{"type":"text","value":" 和 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"icon"}]},{"type":"text","value":" 主要是为了生成菜单的标题和图标使用，记得将这里的图标名称加入 unocss 的 savelist 配置文件中，否则会因为 unocss 的按需加载没扫描而漏掉显示不出来。可能还有很多其他没考虑到问题，后期慢慢再做调整吧。"}]},{"type":"element","tag":"code","props":{"code":"export const initData = {\n  routers: [\n    {\n      name: 'demo', /* 路由名称（唯一） */\n      path: '/admin/demo', /* 路由地址（必填） */\n      meta: {\n        title: '演示demo', /* 菜单标题 */\n        icon: 'i-carbon-tool-box', /* 菜单图标（iconify 使用 'i-'，svg 使用 'svg-'） */\n      },\n      children: [{\n        name: 'demo-table',\n        path: '/admin/demo/table',\n        meta: {\n          title: '表格用法',\n          icon: 'i-carbon-cross-tab',\n          showParent: true,\n        },\n        children: [{\n          name: 'demo-table-draggable',\n          path: '/admin/demo/table/draggable',\n          meta: {\n            title: '可拖拽表格',\n            icon: 'i-carbon-move',\n            showParent: true,\n          },\n        }, {\n          name: 'demo-table-inline-edit',\n          path: '/admin/demo/table/inline-edit',\n          meta: {\n            title: '行内编辑',\n            icon: 'i-ep-edit-pen',\n            showParent: true,\n          },\n        }, {\n          name: 'demo-table-dynamic-row',\n          path: '/admin/demo/table/dynamic-row',\n          meta: {\n            title: '动态增减行',\n            icon: 'i-carbon-row-insert',\n            showParent: true,\n          },\n        }],\n      }],\n    },\n  ],\n  ...\n}\n","filename":"@/server/db/init-data.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"export const initData = {\n  routers: [\n    {\n      name: 'demo', /* 路由名称（唯一） */\n      path: '/admin/demo', /* 路由地址（必填） */\n      meta: {\n        title: '演示demo', /* 菜单标题 */\n        icon: 'i-carbon-tool-box', /* 菜单图标（iconify 使用 'i-'，svg 使用 'svg-'） */\n      },\n      children: [{\n        name: 'demo-table',\n        path: '/admin/demo/table',\n        meta: {\n          title: '表格用法',\n          icon: 'i-carbon-cross-tab',\n          showParent: true,\n        },\n        children: [{\n          name: 'demo-table-draggable',\n          path: '/admin/demo/table/draggable',\n          meta: {\n            title: '可拖拽表格',\n            icon: 'i-carbon-move',\n            showParent: true,\n          },\n        }, {\n          name: 'demo-table-inline-edit',\n          path: '/admin/demo/table/inline-edit',\n          meta: {\n            title: '行内编辑',\n            icon: 'i-ep-edit-pen',\n            showParent: true,\n          },\n        }, {\n          name: 'demo-table-dynamic-row',\n          path: '/admin/demo/table/dynamic-row',\n          meta: {\n            title: '动态增减行',\n            icon: 'i-carbon-row-insert',\n            showParent: true,\n          },\n        }],\n      }],\n    },\n  ],\n  ...\n}\n"}]}]}]}]},"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"路由"},"children":[{"type":"text","value":"路由"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt的一个核心功能是文件系统路由器。会根据约定目录中的每个 Vue 文件创建相应的 URL（或路由）。"}]},{"type":"element","tag":"h2","props":{"id":"pages-目录"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/pages"}]},{"type":"text","value":" 目录"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"当我们创建了 pages 文件夹目录后，Nuxt 会自动集成vue-router，结合 pages 目录下的文件(夹)名来构建我们的项目："}]},{"type":"element","tag":"code","props":{"code":"├─pages ---------------- // 页面目录（Nuxt 将直接根据目录层级和文件名创建对应的路由）\n│ ├─admin -------------- // 后台管理页面\n│ │ ├─index.vue -------- // 页面路由为 /admin/index\n│ │ └─welcome.vue ------ // 页面路由为 /admin/welcome\n│ ├─doc ---------------- // 项目文档页面\n│ │ └─[...slug].vue ---- // 页面路由为 /doc/*\n│ └─index.vue ---------- // 主页面，页面路由为 /index\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"├─pages ---------------- // 页面目录（Nuxt 将直接根据目录层级和文件名创建对应的路由）\n│ ├─admin -------------- // 后台管理页面\n│ │ ├─index.vue -------- // 页面路由为 /admin/index\n│ │ └─welcome.vue ------ // 页面路由为 /admin/welcome\n│ ├─doc ---------------- // 项目文档页面\n│ │ └─[...slug].vue ---- // 页面路由为 /doc/*\n│ └─index.vue ---------- // 主页面，页面路由为 /index"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"将直接生成路由："}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"routes\": [\n    {\n      \"path\": \"/\",\n      \"component\": \"pages/index.vue\"\n    },\n    {\n      \"path\": \"/doc/:slug(.*)*\",\n      \"component\": \"pages/doc/[...slug].vue\"\n    },\n    {\n      \"path\": \"/admin\",\n      \"component\": \"pages/admin/index.vue\"\n    },\n    {\n      \"path\": \"/admin/welcome\",\n      \"component\": \"pages/admin/welcome.vue\"\n    }\n  ]\n}\n","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"\"routes\""}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"\"path\""}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"\"/\""}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"\"component\""}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"\"pages/index.vue\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"    },"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"\"path\""}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"\"/doc/:slug(.*)*\""}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"\"component\""}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"\"pages/doc/[...slug].vue\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"    },"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"\"path\""}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"\"/admin\""}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"\"component\""}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"\"pages/admin/index.vue\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"    },"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"\"path\""}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"\"/admin/welcome\""}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"\"component\""}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"\"pages/admin/welcome.vue\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"  ]"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"middleware-目录"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/middleware"}]},{"type":"text","value":" 目录"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt提供了一个可自定义的路由中间件框架，可以在整个应用程序中使用，非常适合在这里实现导航到特定路由之前要运行的代码（路由守卫）。"}]},{"type":"element","tag":"code","props":{"code":"import { storeToRefs } from 'pinia'\n\nconst whiteList = ['/', '/doc/*']\n\nfunction pathToRegExp(path: string) {\n  const pattern = path.replaceAll('/', '\\/').replaceAll('*', '.*')\n  return new RegExp(`^${pattern}$`)\n}\n\nexport default defineNuxtRouteMiddleware((to) => {\n  const userStore = useUserStore()\n  const authToken = userStore.authToken\n  if (authToken) {\n    const permissionStore = usePermissionStore()\n    const { menus, taggedMenus } = storeToRefs(permissionStore)\n    if (permissionStore.menus.length === 0)\n      permissionStore.generateMenus()\n  }\n\n  /** 路径不在白名单内，重定向至登陆页面 */\n  else if (!whiteList.some(path => pathToRegExp(path).test(to.path))) {\n    return navigateTo('/')\n  }\n})\n\n","filename":"@/middleware/auth.global.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"storeToRefs"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'pinia'"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-903497"},"children":[{"type":"text","value":"whiteList"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ea03be"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" ["}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'/'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'/doc/*'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"]"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"function"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-67883e"},"children":[{"type":"text","value":"pathToRegExp"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-903497"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":") {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-903497"},"children":[{"type":"text","value":"pattern"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ea03be"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-903497"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-67883e"},"children":[{"type":"text","value":"replaceAll"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'/'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-ea03be"},"children":[{"type":"text","value":"\\/"}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-67883e"},"children":[{"type":"text","value":"replaceAll"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'*'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'.*'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-903497"},"children":[{"type":"text","value":"RegExp"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"`^"}]},{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"${"}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"pattern"}]},{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"$`"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-67883e"},"children":[{"type":"text","value":"defineNuxtRouteMiddleware"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"(("}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"to"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-903497"},"children":[{"type":"text","value":"userStore"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ea03be"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-67883e"},"children":[{"type":"text","value":"useUserStore"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-903497"},"children":[{"type":"text","value":"authToken"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ea03be"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-903497"},"children":[{"type":"text","value":"userStore"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"authToken"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"authToken"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":") {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-903497"},"children":[{"type":"text","value":"permissionStore"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ea03be"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-67883e"},"children":[{"type":"text","value":"usePermissionStore"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-903497"},"children":[{"type":"text","value":"menus"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-903497"},"children":[{"type":"text","value":"taggedMenus"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-ea03be"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-67883e"},"children":[{"type":"text","value":"storeToRefs"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"permissionStore"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-903497"},"children":[{"type":"text","value":"permissionStore"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-903497"},"children":[{"type":"text","value":"menus"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"length"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ea03be"},"children":[{"type":"text","value":"==="}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-37ede7"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-903497"},"children":[{"type":"text","value":"permissionStore"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-67883e"},"children":[{"type":"text","value":"generateMenus"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-2a859a"},"children":[{"type":"text","value":"/** 路径不在白名单内，重定向至登陆页面 */"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"else"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-ea03be"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"class":"ct-903497"},"children":[{"type":"text","value":"whiteList"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-67883e"},"children":[{"type":"text","value":"some"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-67883e"},"children":[{"type":"text","value":"pathToRegExp"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-67883e"},"children":[{"type":"text","value":"test"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-903497"},"children":[{"type":"text","value":"to"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"))) {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-67883e"},"children":[{"type":"text","value":"navigateTo"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'/'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"生成菜单"},"children":[{"type":"text","value":"生成菜单"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"项目通过向后端发送请求来获取菜单。具体可以看中间件文件 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"@/middleware/auth.global.ts"}]},{"type":"text","value":" 对 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"permissionStore.generateMenus()"}]},{"type":"text","value":" 的调用。函数的实现也很简单。"}]},{"type":"element","tag":"code","props":{"code":"...\nasync function generateMenus() {\n  // 向后端请求路由数据\n  const { data: routersResponse } = await $fetch('/api/routers', { method: 'get' })\n  menus.value = constantRoutes.concat(routersResponse)\n}\n...\n","filename":"@/composables/permission.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"function"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-67883e"},"children":[{"type":"text","value":"generateMenus"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"() {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-2a859a"},"children":[{"type":"text","value":"// 向后端请求路由数据"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-903497"},"children":[{"type":"text","value":"routersResponse"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-ea03be"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-67883e"},"children":[{"type":"text","value":"$fetch"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'/api/routers'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":", { "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"method"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'get'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" })"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-903497"},"children":[{"type":"text","value":"menus"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"value"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ea03be"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-903497"},"children":[{"type":"text","value":"constantRoutes"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-67883e"},"children":[{"type":"text","value":"concat"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"routersResponse"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"..."}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"至于 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/api/routes"}]},{"type":"text","value":" 接口的实现："}]},{"type":"element","tag":"code","props":{"code":"/** 路由接口 */\nexport default defineEventHandler(async () => {\n  /** mock routers api response */\n  const storage = useStorage()\n  return {\n    success: true,\n    data: await storage.getItem('db:routers'),\n  }\n  // return http.request<UserResult>('get', '/routers', { data })\n})\n","filename":"@/server/api/routers.get.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2a859a"},"children":[{"type":"text","value":"/** 路由接口 */"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-67883e"},"children":[{"type":"text","value":"defineEventHandler"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" () "}]},{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-2a859a"},"children":[{"type":"text","value":"/** mock routers api response */"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-903497"},"children":[{"type":"text","value":"storage"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ea03be"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-67883e"},"children":[{"type":"text","value":"useStorage"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"success"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-37ede7"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-903497"},"children":[{"type":"text","value":"storage"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-67883e"},"children":[{"type":"text","value":"getItem"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'db:routers'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"),"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-2a859a"},"children":[{"type":"text","value":"// return http.request<UserResult>('get', '/routers', { data })"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"可以看到服务端直接从数据库中拿的数据，这里在开发环境下，我们使用 nuxt 3 集成的 nitro 服务器自带的 unstorage 模块提供的 fs 文件存储引擎；在部署环境下使用其默认的 in memory 内存存储引擎。"}]},{"type":"element","tag":"code","props":{"code":"...\nnitro: {\n  devStorage: {\n    db: {\n      driver: 'fs',\n      base: 'server/db',\n    },\n  },\n},\n...\n","filename":"@/nuxt.config.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"nitro: {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"  devStorage: {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"    db: {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"      driver: "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'fs'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"      base: "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'server/db'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"    },"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"  },"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"},"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"..."}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"服务器初始化时通过连接数据库（或对数据库进行初始化写入数据），即可实现简单的数据持久化。因此，修改菜单只需要修改 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"@/server/db/init-data.ts"}]},{"type":"text","value":" 的内容即可。这里简单说说菜单的配置，主要其实就是 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"path"}]},{"type":"text","value":" 和 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"meta"}]},{"type":"text","value":" 两个属性，前面说了，"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pages/"}]},{"type":"text","value":" 目录下的文件会自动生成路由，因此这里的 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"path"}]},{"type":"text","value":" 只需要能够与 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pages/"}]},{"type":"text","value":" 下的路由路径对应上即可；"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"meta"}]},{"type":"text","value":" 中的 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"title"}]},{"type":"text","value":" 和 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"icon"}]},{"type":"text","value":" 主要是为了生成菜单的标题和图标使用，记得将这里的图标名称加入 unocss 的 savelist 配置文件中，否则会因为 unocss 的按需加载没扫描而漏掉显示不出来。可能还有很多其他没考虑到问题，后期慢慢再做调整吧。"}]},{"type":"element","tag":"code","props":{"code":"export const initData = {\n  routers: [\n    {\n      name: 'demo', /* 路由名称（唯一） */\n      path: '/admin/demo', /* 路由地址（必填） */\n      meta: {\n        title: '演示demo', /* 菜单标题 */\n        icon: 'i-carbon-tool-box', /* 菜单图标（iconify 使用 'i-'，svg 使用 'svg-'） */\n      },\n      children: [{\n        name: 'demo-table',\n        path: '/admin/demo/table',\n        meta: {\n          title: '表格用法',\n          icon: 'i-carbon-cross-tab',\n          showParent: true,\n        },\n        children: [{\n          name: 'demo-table-draggable',\n          path: '/admin/demo/table/draggable',\n          meta: {\n            title: '可拖拽表格',\n            icon: 'i-carbon-move',\n            showParent: true,\n          },\n        }, {\n          name: 'demo-table-inline-edit',\n          path: '/admin/demo/table/inline-edit',\n          meta: {\n            title: '行内编辑',\n            icon: 'i-ep-edit-pen',\n            showParent: true,\n          },\n        }, {\n          name: 'demo-table-dynamic-row',\n          path: '/admin/demo/table/dynamic-row',\n          meta: {\n            title: '动态增减行',\n            icon: 'i-carbon-row-insert',\n            showParent: true,\n          },\n        }],\n      }],\n    },\n  ],\n  ...\n}\n","filename":"@/server/db/init-data.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7190e9"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-903497"},"children":[{"type":"text","value":"initData"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ea03be"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"routers"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'demo'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-2a859a"},"children":[{"type":"text","value":"/* 路由名称（唯一） */"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'/admin/demo'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-2a859a"},"children":[{"type":"text","value":"/* 路由地址（必填） */"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"meta"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"title"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'演示demo'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-2a859a"},"children":[{"type":"text","value":"/* 菜单标题 */"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"icon"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'i-carbon-tool-box'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-2a859a"},"children":[{"type":"text","value":"/* 菜单图标（iconify 使用 'i-'，svg 使用 'svg-'） */"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"      },"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"children"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": [{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'demo-table'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'/admin/demo/table'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"meta"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"title"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'表格用法'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"icon"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'i-carbon-cross-tab'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"showParent"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-37ede7"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"        },"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"children"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": [{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'demo-table-draggable'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'/admin/demo/table/draggable'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"meta"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"title"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'可拖拽表格'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"icon"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'i-carbon-move'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"showParent"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-37ede7"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"          },"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"        }, {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'demo-table-inline-edit'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'/admin/demo/table/inline-edit'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"meta"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"title"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'行内编辑'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"icon"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'i-ep-edit-pen'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"showParent"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-37ede7"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"          },"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"        }, {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'demo-table-dynamic-row'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'/admin/demo/table/dynamic-row'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"meta"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"title"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'动态增减行'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"icon"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-068916"},"children":[{"type":"text","value":"'i-carbon-row-insert'"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-a6e778"},"children":[{"type":"text","value":"showParent"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-37ede7"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"          },"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"        }],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"      }],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"    },"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"  ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ba138"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-2a859a{color:#7F848E}\n.ct-37ede7{color:#D19A66}\n.ct-67883e{color:#61AFEF}\n.ct-ea03be{color:#56B6C2}\n.ct-903497{color:#E5C07B}\n.ct-7190e9{color:#C678DD}\n.ct-068916{color:#98C379}\n.ct-a6e778{color:#E06C75}\n.ct-9ba138{color:#ABB2BF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"pages-目录","depth":2,"text":"/pages 目录"},{"id":"middleware-目录","depth":2,"text":"/middleware 目录"},{"id":"生成菜单","depth":2,"text":"生成菜单"}]}},"_type":"markdown","_id":"content:doc:1.guide:5.routing.md","_source":"content","_file":"doc/1.guide/5.routing.md","_extension":"md"},"hash":"qzd4ZHpD0a"}